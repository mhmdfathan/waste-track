generator client {
  provider        = "prisma-client-js"
  previewFeatures = ["multiSchema"]
}

datasource db {
  provider  = "postgresql"
  url       = env("DATABASE_URL")
  directUrl = env("DIRECT_URL")
  schemas   = ["public"] // remove "auth" to avoid permission issues
}

enum Role {
  NASABAH
  PERUSAHAAN
  PEMERINTAH

  @@schema("public")
}

model BlogPost {
  id          String @id @default(cuid())
  title       String
  content     String
  imageUrl    String
  authorId    String
  authorName  String
  authorImage String

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  @@schema("public")
}

model UserRole {
  id     String @id @default(cuid())
  userId String @unique @map("user_id") @db.Uuid // Supabase auth user ID (UUID)
  role   Role

  @@map("user_roles")
  @@schema("public")
}
